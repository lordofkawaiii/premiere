# les droits
--- 

## création d'un utilisateur

vous pouvez voir tous les utilisteur d'une machine dans le fichier "/etc/passwd"

vous pouvoir voir qu'il y a beaucoup d'informations dans ce fichiers, pour y voir plus clair, voici comment comprendre ce fichier:
on peut comprendre ce fichier comme un tableau dont chaque ligne a plusieur colonnes:
 - le nom de l'utilisteur
 - le mot de passe de l'utilisateur (remplacé par un x bien sûre, il n'aparaitra jamais en clair)
 - son identificateur
 - l'identificateur de son groupe principale
 - un commentaire
 - son repertoire HOME
 - le shell utilisé

vous pouvez connaitre votre nom d'utilisateur grâce a la commande : "whoami"

questions:
- combiens y a-t-il d'utilisateurs sur la machine (utilisez la commande "wc -l" (word count avec lignes comme attribut))
- quel est votre ID?
- quel est votre ID de groupe?

vous pouvez voir tous les groupes d'une machine dans le fichier "/etc/passwd"

vous pouvoir voir qu'il y a beaucoup d'informations dans ce fichiers, pour y voir plus clair, voici comment comprendre ce fichier:
on peut aussi comprendre ce fichier comme un tableau dont chaque ligne a plusieur colonnes:
- le nom du groupe
- son mot de passe
- son identificateur

questions:
- quel est l'ID de votre groupe principale?
- comment se nomme-t-il?

(vous pouvez utilisez la commande "grep" pour trier les output des autres commandes)

vous pouvez créer un tuilisateur grâce à la commande : "useradd", elle prend en parametre un nom d'utilisateur. pour faciliter le tout, nous allons attribuer à cet utilisateur un dossier HOME, pour cela, utilisez l'attribut "-m" de "useradd"

verifier que le dossier HOME a bien été crée. Pour cela, utilisez la commande "ls -l /home" afin de lister tout les dossier HOME sur votre machine

le nouvel utilisateur a été crée, nous pouvons maintenant accorder des droits aux differennts fichiers

## les droits

changez d'utilisateur avec la commande "su", cette commande permet de Changer d'Utilisateur, si aucun argument n'est donné, l'utilisateur devient le ROOT de la machine, l'administrateur qui peut absolument tout faire. sinon, on peut passer en argument un nom d'utilisateur pour en modifier son mot de passe (si vous en avez les droits bien sûre).

pour bien se deconnecter quand on change d'utilisateur, utilisez la commande exit

connectez vous avec votre nouvel utilisateur depuis votre utilisateur de base.

vous ne pouvez pas vous connecter avec votre nouvel utilisateur car vous ne lui avez pas accorder de mot de passe
de base, un nouvel utilisateur reçoit un mot de passe "invalid" qui ne peut pas être correct du tout, le seul à pouvoir se connecter a votre nouveau compte est ROOT jusqu'a ce que vous ayez octroyer à votre utilisateur un mot de passe.

pour cela, passer en ROOT et utilisez la commande "passwd", **sans parametres, cette commande permet de modifier le mot de passe de l'utilisateur courant**, changez uniquement le mot de passe de votre nouvel utilisateur en passant en parametre le nom de votre nouvel utilisateur

connectez vous avec votre nouvel utilisateur depuis votre utilisateur de base en utilisant le mot de passe que vous venez d'octroyer et aller dans son dossier HOME

depuis ce dossier, créez un fichier "texte.txt"

questions:
- quel est son proprietaire?
- quel est son groupe prioritaire?
- quels sont ses droits?

revenez à l'utilisateur de base (le commande exit) et essayez la commande "ls -l /home/nom-nouvel-utilisateur"

questions:
- que se passe-t-il?
- pourquoi?

accordez les droits de lecture à other pour le dossier HOME de votre nouvel utilisateur et réessayez la commande depuis votre utilisateur de base

questions:
- que se passe-t-il?

affichez l'interieur de "texte.txt"

questions:
- que se passe-t-il?
- pourquoi?

accordez les droits de lecture à other pour "texte.txt" et réessayer

questions:
- que se passe-t-il?
- comment regler le probleme?

accordez les droit necessaire pour que votre utilisateur de base puisse lire le fichier "texte.txt"

créez un hello world en bash sur votre bureau (juste un ficher avec dedans:

echo "hello world"

), sauvegardez ce qui est necessaire et deconnectez vous pour vous connecter à votre autre compte crée:

questions:
- est-ce-que le fichier python est sur le bureau?

tapez la commande "whoami"
- quel utilisateur êtes-vous?

essayez d'acceder a votre fichier "texte.txt"

essayez d'acceder au script hello world sur le bureau de votre utilisateur principale

questions:
- que se passe-t-il?

donnez les droits de lecture à votre nouvel utilisateur sur votre script hello world et à tout les dossier necessaires

executez le script

donnez les droits d'executions à votre nouvel utilisateur sur votre script hello world et à tout les dossier necessaires

executez votre script

peut on executez un script sans avoir les droits de lecture?

reconnectez vous sur votre compte principale et supprimez le nouvel utilisateur (commande: userdel -r nom-nouvel-utilisateur)
