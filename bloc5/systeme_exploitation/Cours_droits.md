# les droits

## les utilisateurs

Les systèmes du type "UNIX" sont des systèmes multi-utilisateurs (Windows aussi). Plusieurs utilisateurs peuvent donc partager un même ordinateur. Chaque utilisateur possédant un environnement de travail qui lui est propre.
des droits peuvent donc être accordés à ces utilisateurs divers par l'administrateur (Super user ou root en anglais) aux différents utilisateurs sur chaque fichier précisément

## les groupes

au lieu de gérer des utilisateurs un par un, l'administrateur peut créer des groupes d'utilisateurs et accorder des droits à ces groupes qui vont se répercuter sur les utilisateurs

il existe de base, beaucoup de groupes sous Linux, un groupe contenant uniquement vous qui a le même nom que votre utilisateur, le groupe soudo qui contient tous les administrateurs... un groupe spécial "other" qui contient tous les utilisateurs

on a donc plusieurs couches de cibles, un "user" qui est l'utilisateur, un "group" qui est une collection d'utilisateur, et "other" qui contient tous les utilisateurs

on peut voir l'entièreté des groupes à laquelle un utilisateur appartient avec la commande "groups" 

## la propriété d'un fichier

lorsqu'un utilisateur crée un fichier, le *propriétaire* de celui-ci est l'utilisateur qui le crée, et son *groupe propriétaire* est le groupe principal de l'utilisateur

le propriétaire et le groupe propriétaire d'un fichier peut être changés avec la commande "chow" (change ownership)

les droits accordé par l'administrateur s'applique sur un fichier et gére l'accés qu'ont 3 "groupes de personnes" sur celui-ci
- le propriétaire
- le groupe propriétaire
- les autres (le groupe "other" qui contient l'utilisateur propriétaire)

## les droits

les droits accordés par le l'administrateur sont très variés, allant de l'accès aux imprimantes, à l'installation de logiciels, nous nous intéresserons dans la suite aux droits exclusifs aux fichiers

ces droits sur les fichiers sont au nombre de 3:
- droit de lecture 
- droit d'ecriture 
- droit d'execution (sur un dossier, le droit d'execution représente le fait d'acceder au dossier)

ces droits peuvent bien sûre être accordés ou enlevés

les droits d'accées à un fichier peuvent être vue grâce a la commande "ls -l" dont nous allons décortiquer l'affichage

une ligne typique de l'affichage de "ls -l" est:

- -rwxrw-r-- 1 owner gowner 4096 2020-08-18 .scr.py

nous retrouvons les 3 droits pour les 3 "groupes de personnes":

- rwx
- rw-
- r--

le propriétaire:
- owner

le groupe propriétaire:
- gowner

on peut donc en déduire que "owner" a les droits d'écriture, lecture et exécution, les membres du groupe ont les droits de lecture et écriture et les autres ont le droit de lecture uniquement

on peut changer les droits d'un fichier (ou dossier) avec la commande "chmod"

la commande "chmod" est suivi de 3 chiffres, 1 par "groupe de personnes", puis par le nom du fichier

exemple:
- chmod 755 scr.py
  
l'affichage produit par "ls -l":
- -rwxr-xr-x 1 owner gowner 4096 2020-08-18 .scr.py

pourquoi 7 et 5?, car comme dit plus haut, il y a 3 droits en tout, si on représente chacun sur 1 bit, on obtient:
- 000 comme valeur minimale
- 111 comme valeur maximale

un bit levé (égale à un) signifie que le droit est donné

le premier bit correspondant au droit de lecture.
le deuxième, le droit d'écriture.
le dernier, le droit d'exécution.

## exercices de compréhension:

que produit "ls -l" aprés l'execution de la commande :
- chmod 000 scr.py
- chmod 777 scr.py
- chmod 124 src.py
- chmod 365 scr.py

pour les exercices suivants, vous dans le dossier "myDir" du schéma suivant:
![](https://external-content.duckduckgo.com/iu/?u=http%3A%2F%2Fcbitss.in%2Fwp-content%2Fuploads%2F2018%2F06%2FDirectory-structure.png&f=1&nofb=1)

donnez les droits d'écriture et de lecture à tout le monde sur le fichier "cube"

donnez les droits d'écriture et de lecture à "other" et "group" et tout les droits à l'utilisateur sur le fichier "bat"

donnez les droits de lecture à tout le monde sur le fichier "green"

donnez les droits de lecture à "other", lecture et écriture à "group" et execution au proprietaire sur le fichier "green"

faites en sorte que le dossier "basic" ne soit pas accessible à "other"

faites en sorte que le dossier "shape" ne soit pas accessible à son proprietaire
